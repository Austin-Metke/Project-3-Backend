#############################################
# H2 Database (in-memory for isolated tests)
#############################################
spring.datasource.url=jdbc:h2:mem:testdb;MODE=PostgreSQL;DB_CLOSE_DELAY=-1
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.initialization-mode=never

# Hibernate / JPA
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect
spring.jpa.show-sql=false
spring.jpa.open-in-view=false

#############################################
# H2 Console (disabled in CI for security)
#############################################
spring.h2.console.enabled=false

#############################################
# JWT (stub secrets and short TTL for testing)
#############################################
jwt.secret=dev-test-secret-change-me
jwt.ttl-seconds=3600

#############################################
# General test environment safety
#############################################
# Prevents Spring from importing external configs that may not exist in CI
spring.config.import=

spring.mail.test-connection=false
spring.security.enabled=false

# Satisfy any ${SECURITY_PASSWORD} reference during tests
SECURITY_PASSWORD=test

# If Boot's default user is evaluated, wire it safely too
spring.security.user.name=test
spring.security.user.password=${SECURITY_PASSWORD}
