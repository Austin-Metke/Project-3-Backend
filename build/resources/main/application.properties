# spring.application.name=rest-service
# spring.profiles.active=default
# spring.datasource.url=${DATABASE_URL}
# spring.datasource.username=${DATABASE_USERNAME}
# spring.datasource.password=${DATABASE_PASSWORD}
# spring.datasource.driver-class-name=org.postgresql.Driver
# spring.security.user.name=${SECURITY_USERNAME}
# spring.security.user.password=${SECURITY_PASSWORD}

# spring.jpa.hibernate.ddl-auto=update
# spring.jpa.show-sql=true

# # turn off H2 console
# spring.h2.console.enabled=false

spring.application.name=rest-service
spring.profiles.active=default

# Use DATABASE_URL when provided; otherwise use H2 in-memory for local dev to avoid startup failures
spring.datasource.url=${DATABASE_URL:jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;MODE=PostgreSQL}
spring.datasource.username=${DATABASE_USERNAME:sa}
spring.datasource.password=${DATABASE_PASSWORD:}
# Driver fallback: H2 for local dev; when DATABASE_URL points to Postgres the driver is auto-detected
spring.datasource.driver-class-name=${DATABASE_DRIVER:org.h2.Driver}

# Security defaults with ENV override
spring.security.user.name=${SECURITY_USERNAME:admin}
spring.security.user.password=${SECURITY_PASSWORD:changeMe123}

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# Default dialect for H2; when using a real DATABASE_URL Postgres dialect will be detected automatically
spring.jpa.properties.hibernate.dialect=${HIBERNATE_DIALECT:org.hibernate.dialect.H2Dialect}

# turn off H2 console by default
spring.h2.console.enabled=false